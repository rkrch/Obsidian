Протокол разрешения адресов 

Сетевое взаимодействие выполняется с использованием IP-адресов:

- ﻿﻿ping 192.168.10.43    
- ﻿﻿ssh server.university.org    

Данные передаются с помощью технологии канального уровня:

-  Ethernet, Wi-Fi, МАС-адреса     

Необходимы средства определения МАС-адреса компьютера по его IP-адресу

Протокол ARP позволяет автоматически определить  MAC-адрес компьютера по его IP-адресу 

ARP не проходит через маршрутизатор, т.е. с его помощью можно узнать [[MAC]] адреса компьютером только в одной подсети (широковещательный трафик не проходит через маршрутизатор).

**ARP работает в режиме запрос ответ **

- Запрос (здесь указывается ip-адрес неизвестного устройства и пустое поле физического адреса получателя). Запрос является широковещательным.     
- Ответ (устройство с соответствующим адресом сообщает свой MAC-адрес и помещает его в соответствующее поле)    

## Оптимизации ARP

Извлечение информации из ARP-запроса

- ﻿﻿Запросы отправляются на широковещательный адрес    
- ﻿﻿Все компьютеры извлекают и запоминают IP и МАС-адреса отправителя запроса (записывают информацию в ARP-таблицу, чтобы не запрашивать [[MAC]] адрес при каждом отправлении)    

Добровольный ARP-запрос (Gratuitous ARP):

- Запрос собственного IP-адреса    
- Используется при назначении нового IP-адреса для быстрого оповещения всех компьютеров в сети    
- Предотвращение использования одинаковых IP-адресов в сети   

## Принцип работы

Система-отправитель при помощи запроса ARP запрашивает физический адрес системы-получателя. Перед тем, как отправить кадр, идет проверка кэша ARP, чтобы выяснить, нет ли в нем уже нужной информации об узле-получателе. Если такой записи нет, то идет широковещательный запрос ARP. Если такой адрес в сети, он откликается на запрос и формирует свой ARP-ответ. После этого отправитель обновит кэш ARP и сможет адресно передать информацию получателю.