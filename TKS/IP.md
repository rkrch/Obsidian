Связанные: [[MAC]], [[DHCP]], [[DNS]], [[VoIP]], [[OSI]], [[Маска]], [[NAT]]

**Internet Protocol**

Адрес железки.
**Статический** - не меняется
**Динамический** - 

**Внутренний** - выдает провайдер для локальной сети 192.168...
**Внешний** - провайдер даёт для выхода в интернет.


![[NAT]]


IPv4 - 4 294 967 296
Ipv6 -  79 228 162 514 264 337 593 543 950 336


IPv4 ([англ.](https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA) Internet Protocol version 4) — четвёртая версия интернет-[протокола](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB_%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D1%87%D0%B8_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85) ([IP](https://ru.wikipedia.org/wiki/IP)). Первая широко используемая версия.

• Структура адреса IPv4 называется десятичной записью с точками и представляется четырьмя десятичными числами от 0 до 255

• Маска подсети IPv4 — это 32-битовое значение, которое отделяет сетевую часть адреса от узловой части. Маска подсети в сочетании с адресом IPv4 определяет, к какой конкретной подсети относится устройство.

**Сетевой уровень использует агрегацию адресов (работа не с отдельными компьютерами, а подсетями, которые объединяют несколько компьютеров):**

- Масштабирование – работа не с отдельными адресами а с подсетями  

Подсеть – множество компьютеров, у которых  старшая часть IP адреса одинаковая:

213.180.193.1

213.180.193.2

и тп

Маршрутизатор работают с подсетями, а не с отдельными компьютерами 

Типы IP- адресов (в IPv4)

- Индивидуальный (unicast) – это адрес конкретного компьютера в сети 
- Групповой (multicast) – это адрес, который используется несколькими компьютерами, если мы отправим данные на этот адрес из получит несколько компьютер в сети, которые входят в эту группу     
- Широковещательный (broadcast) – это адрес, который используется для получения данных всеми компьютерами в сети     

  
**В IP в широковещательные пакеты передаются только внутри подсети (ограниченное широковещание)**

- Маршрутизаторы не посылают широковещательные пакеты     
- Нет возможности указать в адресе “ все компьютеры в Интернет”








IPv6 ([англ.](https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9_%D1%8F%D0%B7%D1%8B%D0%BA) Internet Protocol version 6) — новая версия интернет-[протокола](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB) ([IP](https://ru.wikipedia.org/wiki/IP)), призванная решить проблемы, с которыми столкнулась предыдущая версия ([IPv4](https://ru.wikipedia.org/wiki/IPv4)) при её использовании в [Интернете](https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82), за счёт целого ряда принципиальных изменений. Протокол был разработан [IETF](https://ru.wikipedia.org/wiki/IETF). Длина адреса IPv6 составляет 128, в отличие от адреса IPv4, длина которого равна 32 битам.

• Длина IPv6-адресов составляет 128 бит, написанных в виде строки шестнадцатеричных значений. Каждые 4 бита представлены одной шестнадцатеричной цифрой, причем общее количество шестнадцатеричных значений равно 32 

Группы из четырех шестнадцатеричных цифр разделяются двоеточием «:».

• IPv6-адреса нечувствительны к регистру, их можно записывать как строчными, так и прописными буквами.

Терминология IPv6:
- Префикс IPv6 (аналогично адресу подсети)    
- Адрес интерфейса (аналогично адресу хоста)    
- Длина префикса (аналогично маске подсети)    

Необходимость IPv6

- Адреса IPv4 заканчиваются. IPv6 является преемником IPv4. Имеет более крупное 128-битное адресное пространство.     
- Разработка IPv6 также включала исправления ограничений IPv4 и другие улучшения.     
- В связи с распространением Интернета ограниченным адресным пространством IPv4, проблемами с преобразованием сетевых адресов и проникновением Интернета в нашу жизнь пришло время для перехода на протокол IPv6.    

Методы перехода можно разделить на 3 категории. 

- Двойной стек. Устройства с двойным стеком одновременно работают с протокольными стеками IPv4 и IPv6.     
- Туннелирование. Это способ передачи IPv6-пакета по IPv4-сети. Пакет IPv6 инкапсулируется внутри пакета IPv4.     
- Трансляция. Преобразование сетевых адресов (NAT64) позволяет устройствам под управлением IPv6 обмениваться данными с устройствами IPv4 при помощи метода преобразования, аналогичного NAT для IPv4.     

Примечание. Туннелирование и трансляция предназначены для перехода на собственный IPv6 и должны использоваться только там, где это необходимо. Конечная цель — это естественный обмен данными в формате IPv6 между источником и назначением.

Правило представления адресов IPv6 1 — Пропустить ведущий ноль 

Первое правило для сокращения записи IPv6-адресов — пропуск всех начальных 0 (нулей) в шестнадцатеричной записи. 

Примеры: 
01AB можно представить как 1AB 
09f0 может быть представлен как 9f0 
0a00 может быть представлен как a00 • 00AB можно представить как AB 
Это правило применяется только к начальным нулям, а НЕ к конечным, иначе адрес будет непонятен. 

Правило представления адресов IPv6 2 — двойное двоеточие 

Двойное двоеточие (::) может заменять все единичные, непрерывные строки из одного или нескольких 16-битных сегментов (гекстетов), которые состоят только из нулей. 

Пример. 

2001:db8:cafe: 1:0:0:0:1 (ведущие 0 опущены) можно было бы представить как 2001:db8:cafe:1::1

Двойное двоеточие (::) может использоваться в адресе только один раз, иначе возникнет двусмысленность и данной записи будут соответствовать несколько возможных адресов.

  
Разбиение сетей на подсети (IPv6)
 

Пространство IPv6-адресов разбивается не с целью экономии адресов, а для обеспечения иерархической логической структуры сети. Разбиение на подсети в IPv6 возможно провести двумя вариантами:

1. Разбиение на подсети с использованием идентификатора подсети.     

Блок IPv6-адресов с префиксом /48 содержит 16 бит идентификатора подсети. Разбиение на подсети с использованием 16 бит идентификатора подсети даёт 65536 возможных подсетей /64. Поэтому нет необходимости заимствовать биты из идентификатора интерфейса или узловой части адреса. Каждая IPv6-подсеть /64 содержит примерно 18*1018 адресов, что гораздо больше, чем когда-либо понадобится в одном сегменте IP-сети. Подсети, созданные из идентификатора подсети, легко представить, поскольку не нужно выполнять преобразование в двоичный формат. 

Чтобы определить следующую доступную подсеть, достаточно рассчитать следующее шестнадцатеричное число. Необходимо применить расчет части идентификатора подсети в шестнадцатеричной системе счисления. Префикс глобальной маршрутизации является одинаковым для всех подсетей. Для каждой подсети увеличивается только четырёхразрядный идентификатор подсети, как показано на рисунке ниже

2. Разбиение на подсети с использованием идентификатора интерфейса.

В IPv6-сетях по аналогии с заимствованием бит из узловой части IPv4-адреса можно позаимствовать биты из идентификатора интерфейса для создания дополнительных IPv6-подсетей, как показано на рисунке ниже. Как правило, это делается по соображениям безопасности, чтобы уменьшить число узлов в подсети и создавать дополнительные подсети. При расширении идентификатора подсети путём заимствования бит из идентификатора интерфейса рекомендуется создавать подсеть на границе полубайта (4 бита или одна шестнадцатеричная цифра). Префикс подсети /64 расширяется на четыре бита или один полубайт до подсети /68. Это позволяет уменьшить размер идентификатора на 4 бита (с 64 до 60). Разбиение на подсети по границе полубайта имеет значение только для масок подсетей, выровненных по полубайту. Начиная с /64, масками подсети, выровненными по полубайту, будут являться маски /68, /72, /76, /80 и т. д. Разбиение на подсети по границе полубайта позволяет создать подсети с использованием дополнительного шестнадцатеричного значения. Можно создать подсеть в пределах полубайта, используя шестнадцатеричную цифру, однако это не рекомендуется и, кроме того, в этом нет необходимости.

 Разбиение на подсети в пределах полубайта сводит на нет преимущества быстрого определения префикса из идентификатора интерфейса. Например, если используется длина префикса /66, первые два бита были бы частью идентификатора подсети, а вторые два бита — частью идентификатора интерфейса.