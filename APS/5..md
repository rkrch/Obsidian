5. 
6. Компиляция программ с языков высокого уровня в машинные коды (представления условных операторов, циклов и вызова подпрограмм на примере языка ассемблера RISC-V). Трансляция, ассемблирование, компоновка.

**RISC (Reduced Insrtuction Set Computer)** — архитектура с сокращённым набором команд. В таких архитектурах поддерживается относительно небольшой набор простых инструкций (обычно до 100), притом все они имеют одинаковый размер. RISC также является load/store архитектурой, это значит, что для того, чтобы выполнить какую-либо операцию над данными, их необходимо предварительно разместить в регистровом файле. Все операции происходят только с данными в регистровом файле, а для доступа к основной памяти используются специальные инструкции типа load и store.

В подавляющем большинстве случаев, современные программы пишутся на языках высокого уровня. Процессоры не понимают языков высокого уровня, поэтому компиляторы переводят текст (программу), написанный на языке высокого уровня в последовательность простых инструкций языка ассемблера. После этого, программу на языке ассемблера переводят в последовательность машинных команд — то, что понятно процессору.

**Условные операторы**

Условный оператор if реализуется за счёт использования инструкций условного перехода.

![](file:///C:/Users/kravr/AppData/Local/Temp/msohtmlclip1/01/clip_image001.jpg)

**Циклы**

Оператор цикла while также реализуется за счёт применения инструкций условного перехода.

![](file:///C:/Users/kravr/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg)

Процедуры (они же функции или подпрограммы) – это повторно используемые фрагменты кода, реализующие вычисления определённой задачи. Использование процедур позволяет абстрагироваться и повторно использовать один и тот же код, но с разными входными параметрами. Большие программы состоят из подпрограмм, включающих в себя другие подпрограммы и так далее.

Программа, которая вызывает подпрограмму называется вызывающей. Подпрограмма которую вызывают называется вызываемой подпрограммой. Вызывающая программа использует тот же набор регистров, что и вызываемая, поэтому: либо вызывающая, либо вызываемая должна сохранять регистры вызывающей в памяти и восстанавливает их, когда процедура завершает своё выполнение.

**Пример вызова подпрограммы с сохранением сохраняемых регистров на стек**

![](file:///C:/Users/kravr/AppData/Local/Temp/msohtmlclip1/01/clip_image004.jpg)

Компиляция программ с языков высокого уровня происходит в несколько этапов. Сначала высокоуровневый код компилируется в код на языке ассемблера, который затем ассемблируется в машинный код и сохраняется в виде объектного файла. Компоновщик, также называемый редактором связей или линкером (linker), объединяет полученный объектный код с объектным кодом библиотек и других файлов, в результате чего получается готовая к исполнению программа. На практике, большинство компиляторных пакетов выполняют все три шага: компиляцию, ассемблирование и компоновку. Наконец, загрузчик загружает программу в память и запускает её.

![](file:///C:/Users/kravr/AppData/Local/Temp/msohtmlclip1/01/clip_image005.jpg)

**Ассемблирование** - это процесс преобразования исходного кода на языке ассемблера в машинный код, который может быть выполнен процессором. Для ассемблирования программы на языке ассемблера RISC-V требуется использовать специальные ассемблеры, которые понимают инструкции этой конкретной архитектуры. Процесс ассемблирования включает в себя преобразование мнемоник ассемблерных инструкций в бинарный формат, понятный процессору архитектуры RISC-V.

**Компоновка (linking)** - это процесс объединения объектных файлов, полученных в результате компиляции программы, в единый исполняемый файл или динамическую библиотеку. Этот процесс включает в себя создание таблиц символов, разрешение зависимостей, вычисление адресов функций и переменных, а также создание заголовков и других структур данных, необходимых для работы программы.

**Трансляция -** процесс преобразования программы на высокоуровневом языке программирования в эквивалентную программу на низкоуровневом языке, как, например, трансляция программы на языке ассемблера в машинный код.